(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){e.exports={myModal:"ModalWindow_myModal__3sHSb",activeModal:"ModalWindow_activeModal__3A6At",myModalContent:"ModalWindow_myModalContent__1aDRF",close__popup:"ModalWindow_close__popup__1TcE2"}},31:function(e,t,n){},33:function(e,t,n){},65:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(34),i=n.n(c),s=n(39),r=n(2),o=n(5),l=n.n(o),u=n(18),j=n(10),d=n(4),p=n(35),b=n(36),_=n(21),m=n.n(_),v=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"getAllPeople",value:function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://stoplight.io/mocks/kode-education/trainee-test/25143926/users");case 2:return t=e.sent,e.abrupt("return",t.data.items);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPeopleById",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://stoplight.io/mocks/kode-education/trainee-test/25143926/users");case 2:return n=e.sent,a=n.data.items,e.abrupt("return",a.filter((function(e){return e.id.includes(t)}))[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),h=(n(31),n(0)),f=function(){return Object(h.jsxs)("div",{className:"critical__error",children:[Object(h.jsx)("div",{className:"flyingPlate"}),Object(h.jsx)("h2",{children:"\u041a\u0430\u043a\u043e\u0439-\u0442\u043e \u0441\u0432\u0435\u0440\u0445\u0440\u0430\u0437\u0443\u043c \u0432\u0441\u0435 \u0441\u043b\u043e\u043c\u0430\u043b"}),Object(h.jsx)("p",{className:"tab__list__item",children:"\u041f\u043e\u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u0431\u044b\u0441\u0442\u0440\u043e \u043f\u043e\u0447\u0438\u043d\u0438\u0442\u044c"}),Object(h.jsx)("p",{onClick:function(){window.location.reload()},className:"refresh",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"})]})},O=(n(65),function(e){var t=Object(r.g)();return Object(h.jsx)("div",{className:"people",onClick:function(){return t.push("/".concat(e.human.id))},children:Object(h.jsxs)("div",{className:"people__content ",children:[Object(h.jsx)("img",{src:e.human.avatarUrl,alt:"avatar"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"people__info",children:[Object(h.jsx)("div",{className:"people__name",children:e.human.firstName+" "+e.human.lastName}),Object(h.jsx)("div",{className:"people__department",children:e.human.department.substring(0,2)})]}),Object(h.jsx)("p",{children:e.human.position})]})]})})}),x=function(){return Object(h.jsxs)("div",{className:"critical__error",children:[Object(h.jsx)("div",{className:"magnify"}),Object(h.jsx)("h2",{children:"\u041c\u044b \u043d\u0438\u043a\u043e\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438"}),Object(h.jsx)("p",{className:"tab__list__item",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0441\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441"})]})},g=(n(33),function(e){var t=e.people,n=e.isLoading,a=e.fetchError;return n?Object(h.jsx)("div",{className:"lds-dual-ring"}):a?Object(h.jsx)(f,{}):t.length?Object(h.jsx)("div",{children:t.map((function(e){return Object(h.jsx)(O,{human:e},e.id)}))}):Object(h.jsx)(x,{})}),N=(n(71),[{title:"\u0412\u0441\u0435",value:"all"},{title:"Android",value:"android"},{title:"iOS",value:"ios"},{title:"\u0414\u0438\u0437\u0430\u0439\u043d",value:"design"},{title:"\u041c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442",value:"management"},{title:"QA",value:"qa"},{title:"\u0411\u044d\u043a-\u043e\u0444\u0438\u0441",value:"back_office"},{title:"Frontend",value:"frontend"},{title:"HR",value:"hr"},{title:"PR",value:"pr"},{title:"Backend",value:"backend"},{title:"\u0422\u0435\u0445\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",value:"support"},{title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430",value:"analytics"}]),w=function(e){var t=e.activeTab,n=e.setActiveTab,a=e.connectionClass,c=e.loadingClass;return Object(h.jsx)("div",{className:"tab__list "+a+c,children:N.map((function(e,a){return Object(h.jsx)("div",{className:a===t?"active__list__item":"tab__list__item",onClick:function(){return n(a)},children:e.title},e.title)}))})},C=n(40),k=(n(72),function(e){return Object(h.jsxs)("div",{className:"margin__tag "+e.connectionClass+e.loadingClass,children:[Object(h.jsx)("input",Object(C.a)({placeholder:"\u0412\u0432\u0435\u0434\u0438 \u0438\u043c\u044f, \u0442\u0435\u0433, \u043f\u043e\u0447\u0442\u0443...",className:"input"},e)),Object(h.jsx)("button",{onClick:function(){return e.setVisible(!0)},id:"input__button"})]})}),y=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),o=r[0],u=r[1],p=function(){var t=Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(t.t0.message);case 9:return t.prev=9,i(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[p,c,o]},M=(n(73),n(74),function(e){var t=e.options,n=e.value,a=e.onChange,c=e.closeFoo;return Object(h.jsx)("div",{className:"popup__wrap",value:n,onChange:function(e){return a(e.target.value)},children:t.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",value:e.value,id:e.value,name:"radioSortPeople",onClick:c}),Object(h.jsx)("label",{htmlFor:e.value,children:e.name})]},e.value)}))})}),L=(n(75),n(14)),S=n.n(L),A=function(e){var t=e.visible,n=e.setVisible,a=e.selectedSort,c=e.sortPeople,i=[S.a.myModal];return t&&i.push(S.a.activeModal),Object(h.jsx)("div",{className:i.join(" "),onClick:function(){return n(!1)},children:Object(h.jsxs)("div",{className:S.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:[Object(h.jsx)("button",{onClick:function(){return n(!1)},className:S.a.close__popup}),Object(h.jsx)("h3",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(h.jsx)(M,{value:a,onChange:c,closeFoo:function(){return n(!1)},options:[{value:" firstName",name:"\u041f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443"},{value:"birthday",name:"\u041f\u043e \u0434\u043d\u044e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}]})]})})},F=function(e){var t=e.isLoading;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("nav",{className:window.navigator.onLine?"no__connection":"error__connection",children:[Object(h.jsx)("h1",{className:"App__header__white",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(h.jsx)("p",{className:window.navigator.onLine?"no__connection":"error__p",children:"\u041d\u0435 \u043c\u043e\u0433\u0443 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u0440\u043e\u0432\u0435\u0440\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c."})]}),Object(h.jsxs)("nav",{className:t?"load__connection":"no__connection",children:[Object(h.jsx)("h1",{className:"App__header__white",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(h.jsx)("p",{className:t?"error__p":"no__connection",children:"\u0421\u0435\u043a\u0443\u043d\u0434\u043e\u0447\u043a\u0443, \u0433\u0440\u0443\u0436\u0443\u0441\u044c..."})]})]})};var P=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),s=Object(d.a)(i,2),r=s[0],o=s[1],p=Object(a.useState)([]),b=Object(d.a)(p,2),_=b[0],m=b[1],f=Object(a.useState)(""),O=Object(d.a)(f,2),x=O[0],N=O[1],C=Object(a.useState)(""),M=Object(d.a)(C,2),L=M[0],S=M[1],P=Object(a.useState)(0),E=Object(d.a)(P,2),T=E[0],D=E[1],B=Object(a.useState)(!1),R=Object(d.a)(B,2),Y=R[0],V=R[1],W=y(Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAllPeople();case 2:t=e.sent,c(Object(u.a)(t).sort((function(e,t){return e.firstName.localeCompare(t.firstName)})));case 4:case"end":return e.stop()}}),e)})))),H=Object(d.a)(W,3),I=H[0],U=H[1],q=H[2],J=[{title:"\u0412\u0441\u0435",value:"all"},{title:"Android",value:"android"},{title:"iOS",value:"ios"},{title:"\u0414\u0438\u0437\u0430\u0439\u043d",value:"design"},{title:"\u041c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442",value:"management"},{title:"QA",value:"qa"},{title:"\u0411\u044d\u043a-\u043e\u0444\u0438\u0441",value:"back_office"},{title:"Frontend",value:"frontend"},{title:"HR",value:"hr"},{title:"PR",value:"pr"},{title:"Backend",value:"backend"},{title:"\u0422\u0435\u0445\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",value:"support"},{title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430",value:"analytics"}];Object(a.useEffect)((function(){I()}),[]),Object(a.useEffect)((function(){o(n)}),[]),Object(a.useEffect)((function(){"all"!==J[T].value?o(n.filter((function(e){return e.department.includes(J[T].value)}))):o(n)}),[T,n]);var Q=Object(a.useMemo)((function(){return"birthday"===L?r.sort((function(e,t){return e.birthday.localeCompare(t.birthday)})):"firstName"===L?r.sort((function(e,t){return e.firstName.localeCompare(t.firstName)})):r}),[L,r]);Object(a.useEffect)((function(){m(Q.filter((function(e){return e.firstName.toLowerCase().includes(x.toLowerCase())||e.lastName.toLowerCase().includes(x.toLowerCase())||e.position.toLowerCase().includes(x.toLowerCase())})))}),[x,Q]);var z=!0;return U&&(z=!1),window.navigator.onLine||(z=!1),Object(h.jsxs)("div",{className:"App ",children:[Object(h.jsx)(F,{isLoading:U}),Object(h.jsx)("h1",{className:z?"App__header":"no__connection",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(h.jsx)(k,{value:x,loadingClass:U?"no__connection":"",connectionClass:window.navigator.onLine?"":"no__connection",onChange:function(e){return N(e.target.value)},setVisible:V}),Object(h.jsx)(A,{visible:Y,setVisible:V,selectedSort:L,sortPeople:function(e){S(e),m("birthday"===e?Object(u.a)(r).sort((function(t,n){var a=new Date;a.setFullYear(t[e].split("-")[0]),a.setMonth(t[e].split("-")[1]),a.setDate(t[e].split("-")[2]);var c=new Date;return c.setFullYear(n[e].split("-")[0]),c.setMonth(n[e].split("-")[1]),c.setDate(n[e].split("-")[2]),a.getTime()<c.getTime()?1:a.getTime()>c.getTime()?-1:0})):Object(u.a)(r).sort((function(e,t){return e.firstName<t.firstName?-1:e.firstName>t.firstName?1:0})))}}),Object(h.jsx)(w,{loadingClass:U?"no__connection":"",connectionClass:window.navigator.onLine?"":"no__connection",activeTab:T,setActiveTab:D}),Object(h.jsx)("hr",{}),Object(h.jsx)(g,{isLoading:U,fetchError:q,people:_})]})},E=(n(76),function(){var e,t=Object(r.g)();e=Object(r.h)();var n=Object(a.useState)({avatarUrl:"",department:"",firstName:"",lastName:"",position:"",birthday:"",phone:""}),c=Object(d.a)(n,2),i=c[0],s=c[1],o=y(Object(j.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPeopleById(e.id);case 2:n=t.sent,s(n);case 4:case"end":return t.stop()}}),t)})))),u=Object(d.a)(o,3),p=u[0],b=u[1],_=u[2];Object(a.useEffect)((function(){p(e.id)}),[]);var m,O=new Date(i.birthday.substring(0,4),i.birthday.substring(5,7),i.birthday.substring(8,10));m=function(e){var t,n;return t=(n=e%100)>=5&&n<=20?"\u043b\u0435\u0442":1===(n%=10)?"\u0433\u043e\u0434":n>=2&&n<=4?"\u0433\u043e\u0434\u0430":"\u043b\u0435\u0442","".concat(e," ").concat(t)}((new Date).getFullYear()-O.getFullYear());var x="+7 ("+i.phone.split("-").join("").substring(0,3)+") "+i.phone.split("-").join("").substring(3,6)+" "+i.phone.split("-").join("").substring(6,8)+" "+i.phone.split("-").join("").substring(8,10);return b?Object(h.jsx)("div",{className:"lds-dual-ring"}):_?Object(h.jsx)(f,{}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"people__top",children:[Object(h.jsx)("div",{className:"back__to__main",onClick:function(){return t.push("/")},children:" "}),Object(h.jsxs)("div",{className:"people__top__info",children:[Object(h.jsx)("img",{className:"people__top__info__avatar",src:i.avatarUrl,alt:"avatar"}),Object(h.jsxs)("div",{className:"people__top__info__name",children:[Object(h.jsx)("h2",{children:i.firstName+" "+i.lastName}),Object(h.jsx)("p",{className:"people__department",children:i.department.substring(0,2)})]}),Object(h.jsx)("p",{className:"people__top__info__position",children:i.position})]})]}),Object(h.jsxs)("div",{className:"people__bottom",children:[Object(h.jsxs)("div",{className:"people__bottom__left",children:[Object(h.jsxs)("div",{className:"people__bottom__left__item",children:[Object(h.jsx)("div",{className:"date__image"}),Object(h.jsx)("p",{children:O.getDate()+" "+["\u042f\u043d\u0432\u0430\u0440\u044f","\u0424\u0435\u0432\u0440\u0430\u043b\u044f","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440\u0435\u043b\u044f","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u041e\u043a\u0442\u044f\u0431\u0440\u044f","\u041d\u043e\u044f\u0431\u0440\u044f","\u0414\u0435\u043a\u0430\u0431\u0440\u044f"][O.getMonth()].toLowerCase()+" "+O.getFullYear()})]}),Object(h.jsxs)("div",{className:"people__bottom__left__item",children:[Object(h.jsx)("div",{className:"phone__image"}),Object(h.jsx)("a",{href:"tel:+7"+i.phone.split("-").join(""),children:x})]})]}),Object(h.jsx)("div",{className:"people__bottom__right",children:Object(h.jsx)("p",{className:"people__department",children:m})})]})]})});n(77);var T=function(){return Object(h.jsx)(s.a,{children:Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{exact:!0,path:"/",children:Object(h.jsx)(P,{})}),Object(h.jsx)(r.b,{exact:!0,path:"/:id",children:Object(h.jsx)(E,{})}),Object(h.jsx)(r.a,{to:"/"})]})})};i.a.render(Object(h.jsx)(T,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.2652259b.chunk.js.map